<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
  <style type="text/css">
  html, body {
    font-family: 'Avenir';
    color: black;
  }
  .content {
    overflow-x: hidden;
    scroll-behavior: smooth;
    height: 100vh;
    overflow-y: scroll;
    /*scroll-snap-type: y mandatory;*/
  }
  .sectionView {
    position: relative;
    /*scroll-snap-align: start;*/
    z-index: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100vw;
    height: 100vh;
    background-repeat: no-repeat;
    background-size: 100% 100%;
  }
  #topnav {
    position: fixed;
    z-index: 100;
    top: 0;
    width: 100%;
    display: flex;
    height: 50px;
    background-color: rgba(255, 255, 255, 0.5);
    justify-content: center;
    align-content: center;
  }
  #topnav .link {
    text-decoration:none;
    display: flex;
    align-items: center;
    font-weight: 500;
    font-size: 20px;
    color: black;
    padding-left: 20px;
    padding-right: 20px;
    margin-left: 20px;
    margin-right: 20px;
    transition: all 0.5s;
  }
  #topnav .link_active ,#topnav .link:hover {
    background-color: #77AFF7;
    font-size: 25px;
    color: white;
  }
  /*#topnav a.active {
    background-color: #4CAF50;
    color: white;
  }*/
  .preview {
    top: 50px;
    position: absolute;
    z-index: 1;
    margin: 0 auto;
    max-height: 50%;
    max-width: 60%;
    opacity: 1;
  }
  .button_container {
    position: absolute;
    top: 75vh;
    width: 100%;
    display: flex;
    justify-content: center;
    flex-direction: row;
    z-index: 1;
    height: 100px;
  }
  .button {
    display: flex;
    color: white;
    justify-content: center;
    align-items: center;
    letter-spacing: 2px;
    margin-left: 5vw;
    margin-right: 5vw;
    padding: 20px;
    border-radius: 05px;
    /*border: 5px solid white;*/
    border: 0;
    width: 300px;
    font-size: 30px;
    background-color: #a9d2fc;
    /*opacity: 0.7;*/
    font-weight: 400;
    transition: all 0.5s;
    box-shadow: 7px 4px 18px rgba(100,100,100,0.3), -7px -4px 18px rgba(255,255,255,0.6);
  }
  .button:hover {
    color: white;
    border-radius: 60px;
    text-decoration:none;
    /*border-color: #AAD1FC;*/
  }
  h1 {
    position: absolute;
    font-size: 60px;
    font-weight: 500;
    text-align: center;
    margin: 0;
  }
  .hozWrapper {
    display: flex;
    flex-direction: row;
    justify-content: center;
    width: 100%;
  }
  .vertWrapper {
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 100%;
  }
  .imgContainer {

    width: 500px;
    margin-right: 50px;
    margin-left: 50px
  }
  img {
    width: 100%;
    height: 100%;
    padding: 10px;
  }
  #demo_video
  {
      transform: rotateY(180deg);
      -webkit-transform:rotateY(180deg); /* Safari and Chrome */
      -moz-transform:rotateY(180deg); /* Firefox */
  }

  .row
  {
      margin:20px;
  }
  #logoContainer {
    width: 100px;
  }

  #logo, #logotext
  {
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
  #beginDemo {
    width: 150px;
    height: 70px;
    border-radius: 5px;
    /*border: 5px solid white;*/
    border:0;
    position: absolute;
    font-size: 20px;
    color: white;
    background-color:rgba(255,255,255,0);
    box-shadow: 3px 3px 18px rgba(0,0,0,0.5), -3px -3px 18px rgba(255,255,255,0.6);
    transition: all 0.5s;
  }
  #beginDemo:hover {
    background-color: #FE4A49;
    color: white;
    border-radius: 60px;
  }

  #overlay {
    position: absolute;
    display: flex;
    z-index: 0;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100vh;
    background-color: rgba(150,150,150,0.8);
    transition: all 0.1s;
    display: none;
  }
  .stretchstep {
    height: 45vh;
    width: 28vw;
    padding: 0px 25px 0px 25px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  #beginStory {
    margin-top: 100px;
    height: 200px;
    width: 300px;
    background-color: #77AFF7;
    font-size: 40px;
    color: white;
    transition: all 0.5s;
    border-radius: 5px;
    border: 5px solid black;
    letter-spacing: 5px;
  }
  #beginStory:hover {
    background-color: white;
    color: #77AFF7;
    border-radius: 60px;
  }
  /*.lang_select {
    width: 50px;
    position: fixed;
    right: 0;
    display: flex;
    flex-direction: row;
  }
  .lang_select a {
    font-size: 15px;
    color: black;
    writing-mode: vertical-rl;
  }
  .lang_select_active, .lang_select a:hover {
    color: #EF626C;
  }*/
  p {
    text-align: justify;
    text-justify: inter-word;
    word-wrap: break-word;
    font-size: 20px;
  }
  h3 {
    text-align: justify;
    color: #242867;
    text-align: center;
    font-weight: 200;
  }
  .sns_icon_container {
    width: 90%;
    margin-top: 20px;
    margin-bottom: 20px;
    height: 18%; /*4 sns icons each inc. padding*/
    border-top-right-radius: 40px;
    border-bottom-right-radius: 40px;
    transition: all 1s ease;
  }
  .sns_icon_container:hover {
    /*transform: translateX(20px);*/
    width: 100%
  }
  .formContainer {
    width:50%;
    position:absolute;
    right:0;
    /*top:70px;*/
    height:100%;
    overflow: hidden;
  }
  #IntroLogo {
    display: none;
  }
  #overlayCont {
    margin: auto;
    width:60%;
    height: 80%;
    display:flex;
    justify-content:center;
    align-items:center;
    position: absolute;
    top: 50%;
    left: 50%;
    -ms-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
  }
  .keepRatio {
    width: 100%;
    height: auto;
  }
  .numContainer {
    padding: 25px;
    margin-left: 10px;
    margin-right: 10px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #FE4A49;
    opacity: 1;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .num {
     color: white;
     margin: 0;
     margin-top: 5px;
     font-family: 'Didot Regular';
     font-style: italic;
  }
  #playButton:hover, #startButton:hover {
    display: block;
    transform: scale(1.2);
    cursor: pointer;
  }
  .contact {
    width: 100vw;
    height: 90vh;
    position: absolute;
    bottom: 0;
  }
  #videoPlaceholder {
    width: 384px;
    height: 288px;
    position: absolute;
    z-index: 0;
    background-color: grey;
    top: 3px;
    border-radius: 20px;
  }
  </style>

</head>
<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.dev.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>
  <script src="https://docs.opencv.org/3.4.0/opencv.js"> </script>
  <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> -->
  <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"></script> -->
  <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script> -->

  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-converter"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/handpose"></script>

  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl"></script>
  <div id="topnav">
    <!--<a class="link link_active" href="#intro">Home</a>-->
    <a class="link" href="#home">Home</a>
    <a class="link" href="#demo">Demo</a>
    <a class="link" href="#play">Play</a>
    <a class="link" href="#about">About</a>
    <!--<div class="lang_select">
      <a class="translate" href="#" >English</a>
      <a class="translate" href="#" >한국어</a>
    </div>-->
  </div>

  <div class="content">
    <section id="intro">
      <div class="sectionView" style="background-image: url(img/bg_1.svg);background-size: 100% 70%;background-position: center bottom;">
        <div id="IntroLogo" style="width:40vw;position:absolute; top:100px;">
          <img src="img/NeuToy Logo.png">
          <h3 style="margin-top:45px;color:black;">
            일상을 돕기위한 친절한 손동작<br>
            Mindful hand exercises to help<br>with everyday tasks</h3>
        </div>
        <h1 style="left:50px;bottom:100px;text-align:left;color:white;">Hello.<br>Meet NeuToy.</h1>
        <video id="intro_vid" src="intro_vid/intro_vid_comp.mov" class="preview" autoplay muted></video>
        <!--<div class="button_container">
          <a class="button" id="aboutButt" href="#about">About</a>
          <a class="button" id="demoButt" href="#demo">Demo</a>
          <a class="button" id="stretchButt" href="#stretch">Stretch</a>
        </div>-->
        <div style="position:absolute;right:50px;bottom:22%;width:25%;">
          <img src="img/Just Welson-01.svg">
        </div>
      </div>
    </section>
    <section id="home">
      <div class="sectionView" style="height:300vh;background-image: url(img/bg_2.svg);">
        <div style="position:absolute;width:23%;top:100px; left:5px;">
          <img src="img/Just Neuman-01.svg">
        </div>
        <div class="hozWrapper"style="position:absolute;top:100px;width:75%;right:5px">
          <div class="vertWrapper" style="max-width:50%;">
            <p style="color:black;">숨 쉬기도 바쁜 현대인을 위해 '뉴토이'가 태어났습니다.
              뉴토이는 웹캠을 통해 사용자의 동작을 인식하고 개선점을 찾아 냅니다.
              인터렉션 게임 스토리에 따라 특정 동작들을 반복, 완수 하면 저절로(사용자도 모르는 사이에) 스트레칭을 하게 됩니다.
              <br><br>우리의 기술은 간단한 동작을 반복하면서 스트레칭 효과가 나타나 자세교정 뿐만
              아니라 스트레스 완화에도 도움을 줄 수 있습니다.</p>
            <p style="color:white;">NeuToy was built for the hectic modern worker.
            NeuToy uses your webcam to track your hand position and movement.
            Through interactive games & stories, you repeat exercises that help stretch and relax
            your wrist and forearm without you even noticing.<br><br>
            Our technology combined with simple stretches not only helps one's resting posture
            but alleviates stress for your wellbeing.</p>
          </div>
          <div class="imgContainer">
            <img class="keepRatio" src="img/Waving-at-Computer.gif">
          </div>
        </div>
        <div style="position:absolute;bottom:0;right:-30px;width:40%">
          <img src="img/Lady at Desk-01.svg">
        </div>
      </div>
    </section>
    <section id="demo">
      <div class="sectionView" style="background-image: url(img/bg_3.svg);">
        <h1 style="color:white;top:50px;">Click 'start' to try our tech</h1>
        <div id="overlay">
          <div id="overlayCont" class="imgContainer">
            <h1 id="wavePrompt">Wave</h1>
            <img class="keepRatio"src="img/Waving-at-Computer.gif">
          </div>
        </div>
        <!--<button id="beginDemo" onclick="begindemo()">Start</button>-->
        <div class="imgContainer" style="width:200px;position:absolute;top:220px;z-index:1;">
          <img id="startButton" src="img/buttons/Start.svg" style="transition: all 0.5s;" onclick="begindemo()">
        </div>
        <div class="hozWrapper" style="width:75%;position:absolute;top:130px;">
          <div class="vertWrapper" style="align-items: center;">
            <video id="demo_video" width="384" height="288" style="border-radius:20px;z-index:1;"></video>
            <div id="videoPlaceholder"></div>
            <p class="text-center" id ="webcam" style="color:white;">Webcam View</p>
          </div>
          <div class="vertWrapper" style="align-items: center;">
            <div id="jumbo"></div>
            <p class="text-center" id ="handcam" style="color:white;">Single Hand Tracking</p>
          </div>
        </div>

        <!--<div class="row d-flex justify-content-center">
            <div class="d-flex justify-content-center">
                <div class="text-center" id="logotext" style="color:grey;">Powered by</div>
                <div id="logoContainer" width="200px">
                  <img class="mx-auto d-block" id="logo" src="img/NeuToy Logo Whale.png">
                </div>

            </div>
        </div>-->
    </section>
    <section id="play">
      <div class="sectionView" style="background-color:white;">
      <!--<button id="beginStory">PLAY</button>-->
      <h1 style="position:relative;margin-top:50px;margin-bottom:50px">Be better.</h1>
      <div class="imgContainer" style="width:200px;z-index:1;">
        <img id="playButton" src="img/buttons/Play.svg" style="transition: all 0.5s;">
      </div>
      <div class="hozWrapper" style="flex-flow:wrap; height:100%; margin-top:80px;">
          <div class="stretchstep" id="stretch1">
            <!--<div class="numContainer"> <h2 class="num">1</h2> </div>-->
            <img src="img/Woman at desk.svg">
            <h3>Complete hand exercises from your home or office</h3>
          </div>
          <div class="stretchstep" id="stretch2">
            <!--<div class="numContainer"><h2 class="num">2</h2></div>-->
            <img src="img/Hand Instruction-01.svg">
            <h3>Use our tech to ensure you stretch your hands effectively</h3>
          </div>
          <div id="stretch3" class="stretchstep" >
            <!--<div class="numContainer"><h2 class="num">3</h2></div>-->
            <img src="img/Paper Light Puddle.svg">
            <h3>Help Neuman and Welson complete tasks around their home</h3>
            <!--<h1 style="top:80px;color:#77AFF7;">NeuToy</h1>
            <h3 style="margin-top: 120px;">
              뉴먼과 웰선의 일상생활에 손동작으로 도움을 주세요<br>
              <br>Mindful hand exercises to help Neuman<br>and Welson with everyday tasks</h3>-->
          </div>
      </div>
      </div>
    </section>
    <section id="about">
      <div class="sectionView" style="height:200vh;background-image: url(img/bg_end.svg);background-size: 100% 80%;background-position: center bottom;">
        <div class="contact">
          <div class="vertWrapper" style="width:40%;position:absolute;left:0;height:90%;">
            <a class="sns_icon_container" style="background-color:red;" href="https://www.youtube.com/channel/UCOpV5-2OuicC9NS8bSU6f4w/featured">
              <img src="sns_icon/youtube.svg" style="padding:15px;">
            </a>
            <a class="sns_icon_container" style="background-color:#FEEA12;" href="https://pf.kakao.com/_iFxolK">
              <img src="sns_icon/kakaotalk.svg" style="padding:15px;">
            </a>
            <a class="sns_icon_container" style="background-color:#495896;" href="https://www.facebook.com/NeuToyInc-110833360746823">
              <img src="sns_icon/facebook-white.svg" style="padding:15px;">
            </a>
            <a class="sns_icon_container" style="background-color:white;" href="https://www.instagram.com/neutoy.inc/?hl=en">
              <img src="sns_icon/instagram.svg" style="padding:15px;">
            </a>
          </div>
          <div class="formContainer">
            <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSevkScbZjI-ckNpP3EezzzJg6E_gq8F9ibsexpZisSwZjQ4fQ/viewform?embedded=true" width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
          </div>
        </div>

      </div>
    </section>
  </div>
</body>
<script src="fingerGetData_demo.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript">
  /*var arrLang_link = {
    'en' : {
      'intro': 'Home',
      'about': 'About',
      'demo': 'Demo',
      'stretch': 'Stretch',
      'info': 'Info',
    },
    'kr' : {
      'intro': '홈',
      'about': '어바웃',
      'demo': '대모',
      'stretch': '스트레치',
      'info': '안내',
    }
  }
  var arrLang_butt = {
    'en' : {
      'aboutButt': 'About',
      'demoButt': 'Demo',
      'stretchButt': 'Stretch',
    },
    'kr' : {
      'aboutButt': '어바웃',
      'demoButt': '대모',
      'stretchButt': '스트레치',
    }
  }

  $(function() {
    $('.translate').click(function() {
      var lang = $(this).attr('id');

      $('.link').each(function(index,element) {
        $(this).text(arrLang_link[lang][$(this).attr('key')]);
      });
      $('.button').each(function(index,element) {
        $(this).text(arrLang_butt[lang][$(this).attr('key')]);
      });
    });
  });*/

  // make tab active on click for topnav
  // NOT NEEDED AS SCROLL DOES IT AUTOMATICALLY DURING
  // MOVE TO THE SELECTED SECTION
  /*$(function() {
    var activeTab;
    $('#topnav .link').click(function() {
      if (activeTab == null) {
        activeTab = $(this);
        activeTab.addClass('link_active');
      }
      else {
        activeTab.removeClass('link_active');
        activeTab = $(this);
        activeTab.addClass('link_active');
      }
    })
  })*/

  var buffer = 150; // pixels from bottom at which active tab switches
  var animDone = false;

  function onScroll(event){
    var scrollPos = $(document).scrollTop();
    $('#topnav .link').each(function () {
        var currLink = $(this);
        var refElement = $(currLink.attr("href"));
        if (refElement.position().top <= scrollPos +(window.innerHeight/2) && refElement.position().top + refElement.height()> scrollPos+(window.innerHeight/2)) {
            $('#topnav .link').removeClass("link_active");
            currLink.addClass("link_active");
        }
        else{
            currLink.removeClass("link_active");
        }
    });
    if ($('#play').position().top <= scrollPos+$('#play').height() && animDone == false) {
      //slideIn();
      animDone = true;
    }
  }

  window.onload = () => {
    window.location.href = '#intro';
    document.getElementById('defaultCanvas0').style.borderRadius = '20px';

  }
  $(document).ready(function () {
    $('.content').on("scroll", onScroll);
  });

  function slideIn() {
    var tl = anime.timeline({
      easing: 'easeOutSine',
      duration: 1100,
    })
    tl
    .add({
      targets:'#stretch1',
      translateX: [-window.innerWidth/2,0],
    })
    .add({
      targets:'#stretch2',
      translateX: [-window.innerWidth/2,0],
    },'-=300')
    .add({
      targets:'#stretch3',
      translateX: [window.innerWidth/2,0],
    },'-=300')
  }

  var intro_vid = document.getElementById('intro_vid')
  intro_vid.onended = function() {
    console.log('intro_video ended');
    $(this).fadeOut(1500,"linear");
    $('#IntroLogo').fadeIn(1500,"linear");
  };


</script>
</html>
